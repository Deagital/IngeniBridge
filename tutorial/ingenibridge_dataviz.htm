<head>
    <script>
        function tbDatavizRequest_KeyUp(s,e)
        {
            var url = "https://cloud.ingenibridge.com/PublicDemo/Deagital/REQUESTER/RetrieveDatavizTimeSeries?SearchString=" + tbDatavizRequest.GetText() + "&PageSize=10";
            if (tbDatavizRequest.GetText() == "") return;
            $(document).ready(function () {
                $.ajax(
                {
                    type: 'GET',
                    url: url,
                    dataType: 'json',
                    contentType: "application/json",
                    error: function ()
                    {
                        tbResults.SetText("error");
                    },
                    success: function (data)
                    {
                        var nbresults = 0;
                        var items = [];
                        $.each(data.values, function(index, element) 
                        {
                            items.push(element.DatavizTimeSeriesDescription);
                            items.push(element.TimeSeriesExternalReference);
                            nbresults = nbresults + 1
                        });
                        tbResults.SetText(items);
                        tbNbResults.SetText(nbresults);
                    }
                });
            });
        }

    </script>
</head>

<body>
    <input id="tbDatavizRequest" type="text" onkeyup="tbDatavizRequest_KeyUp" />
    <input id="tbResults" type="text"></input>
    <input id="tbNbResults" type="text"></input>
</body>
